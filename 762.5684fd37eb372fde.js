"use strict";(self.webpackChunkqforms=self.webpackChunkqforms||[]).push([[762],{71762:(V,g,n)=>{n.r(g),n.d(g,{PassCreateModule:()=>u});var f=n(36895),b=n(21366),a=n(24006),x=n(56253),T=n(44487),A=n.n(T),l=n(858),s=n(94650),h=n(51491),_=n(8651);function k(i,o){1&i&&(s.TgZ(0,"span"),s._uU(1,"Password is required"),s.qZA())}function C(i,o){if(1&i&&(s.TgZ(0,"div",49),s.YNc(1,k,2,0,"span",50),s.qZA()),2&i){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.f.password.errors.required)}}function y(i,o){1&i&&(s.TgZ(0,"span"),s._uU(1,"Confirm Password is required"),s.qZA())}function U(i,o){if(1&i&&(s.TgZ(0,"div",49),s.YNc(1,y,2,0,"span",50),s.qZA()),2&i){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.f.cpassword.errors.required)}}function q(i,o){1&i&&(s.TgZ(0,"span"),s._uU(1,"Confirm Password does not match.."),s.qZA())}function L(i,o){if(1&i&&(s.TgZ(0,"div",49),s.YNc(1,q,2,0,"span",50),s.qZA()),2&i){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.f.cpassword.errors.confirmPass)}}const w=function(i){return{"is-invalid":i}},Z=function(i,o){return{"mdi-eye-off-outline":i,"mdi-eye-outline":o}};function B(i,o){if(1&i){const t=s.EpF();s.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"h5",22),s._uU(6,"Create new password"),s.qZA()(),s.TgZ(7,"div",23)(8,"form",24),s.NdJ("ngSubmit",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.onSubmit())}),s.TgZ(9,"div",25)(10,"label",26),s._uU(11,"Password"),s.qZA(),s.TgZ(12,"div",27)(13,"input",28),s.NdJ("keyup",function(r){s.CHM(t);const d=s.oxw();return s.KtG(d.bindValidations(r))})("blur",function(r){s.CHM(t);const d=s.oxw();return s.KtG(d.blurValidation(r))})("focus",function(r){s.CHM(t);const d=s.oxw();return s.KtG(d.focusValidation(r))}),s.qZA(),s.TgZ(14,"button",29)(15,"i",30),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.togglepasswordField())}),s.qZA()(),s.YNc(16,C,2,1,"div",31),s.qZA(),s.TgZ(17,"div",32),s._uU(18," Must be at least 8 characters. "),s.qZA()(),s.TgZ(19,"div",25)(20,"label",33),s._uU(21,"Confirm Password"),s.qZA(),s.TgZ(22,"div",34),s._UZ(23,"input",35),s.TgZ(24,"button",36)(25,"i",30),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.toggleconfirmField())}),s.qZA()(),s.YNc(26,U,2,1,"div",31),s.YNc(27,L,2,1,"div",31),s.qZA()(),s.TgZ(28,"div",37)(29,"h5",38),s._uU(30,"Password must contain:"),s.qZA(),s.TgZ(31,"p",39),s._uU(32," Minimum "),s.TgZ(33,"b"),s._uU(34,"8 characters"),s.qZA()(),s.TgZ(35,"p",40),s._uU(36," At "),s.TgZ(37,"b"),s._uU(38,"lowercase"),s.qZA(),s._uU(39," letter (a-z) "),s.qZA(),s.TgZ(40,"p",41),s._uU(41," At least "),s.TgZ(42,"b"),s._uU(43,"uppercase"),s.qZA(),s._uU(44," letter (A-Z) "),s.qZA(),s.TgZ(45,"p",42),s._uU(46," At least "),s.TgZ(47,"b"),s._uU(48,"number"),s.qZA(),s._uU(49," (0-9) "),s.qZA(),s.TgZ(50,"p",43),s._uU(51," At least 1 "),s.TgZ(52,"b"),s._uU(53,"Special Character"),s.qZA()()(),s.TgZ(54,"div",44),s._UZ(55,"input",45),s.TgZ(56,"label",46),s._uU(57,"Remember me"),s.qZA()(),s.TgZ(58,"div",47)(59,"button",48),s._uU(60," Reset Password "),s.qZA()()()()()()()()}if(2&i){const t=s.oxw();s.xp6(8),s.Q6J("formGroup",t.passresetForm),s.xp6(5),s.Q6J("type",t.passwordField?"text":"password")("ngClass",s.VKq(10,w,t.submitted&&t.f.password.errors)),s.xp6(2),s.Q6J("ngClass",s.WLB(12,Z,!t.passwordField,t.passwordField)),s.xp6(1),s.Q6J("ngIf",t.submitted&&t.f.password.errors),s.xp6(7),s.Q6J("type",t.confirmField?"text":"password")("ngClass",s.VKq(15,w,t.submitted&&t.f.cpassword.errors)),s.xp6(2),s.Q6J("ngClass",s.WLB(17,Z,!t.passwordField,t.passwordField)),s.xp6(1),s.Q6J("ngIf",t.submitted&&t.f.cpassword.errors),s.xp6(1),s.Q6J("ngIf",t.submitted&&t.f.cpassword.errors)}}function I(i,o){1&i&&(s.TgZ(0,"div",17)(1,"div",51)(2,"div",19)(3,"div",20),s._UZ(4,"div",21),s.TgZ(5,"div",15)(6,"div",52),s._uU(7," Sorry, the link has expired! "),s._UZ(8,"br"),s.TgZ(9,"a",53),s._uU(10," Click here to request a new password reset link. "),s.qZA()()()()()()())}function S(i,o){1&i&&(s.TgZ(0,"div",17)(1,"div",51)(2,"div",19)(3,"div",20),s._UZ(4,"div",21),s.TgZ(5,"div",15)(6,"div",52),s._uU(7," Sorry, the link is invalid! "),s._UZ(8,"br"),s.TgZ(9,"p"),s._uU(10," Seems you have alerted the link, please click the password reset link again from your inbox. "),s.qZA()()()()()()())}function F(i,o){1&i&&(s.TgZ(0,"div",17)(1,"div",54)(2,"div",19)(3,"div",20)(4,"div",21),s._UZ(5,"lord-icon",55),s.qZA()()()(),s.TgZ(6,"div",56)(7,"p",57),s._uU(8," Wait, I remember my password... "),s.TgZ(9,"a",58),s._uU(10," Click here "),s.qZA()()()())}function J(i,o){1&i&&(s.TgZ(0,"div",17)(1,"div",54)(2,"div",19)(3,"div",20)(4,"div",21),s._UZ(5,"lord-icon",59),s.qZA(),s.TgZ(6,"div",15)(7,"a",60)(8,"h5"),s._uU(9,"Click here to login"),s.qZA()()()()()()())}class c{constructor(o,t,e,r){this.formBuilder=o,this.Api=t,this.activatedRoute=e,this.toastService=r,this.submitted=!1,this.error="",this.year=(new Date).getFullYear(),this.token=null,this.userId=null,this.passChangeRequestSent=!1,this.tokenValid=!1,this.tokenActive=!1,this.userExists=!1,this.beforeSend=!1,this.success=!1}ngOnInit(){this.activatedRoute.queryParams.subscribe(o=>{this.emailStr=o.email,this.token=o.token,this.userId=o.id,this.beforeSend=!1,this.success=!1;const t={email:this.emailStr.toLowerCase(),token:this.token,id:this.userId};!this.emailStr||!this.token||!this.userId||this.Api.validatePasswordResetLink(t).subscribe(e=>{null!=e&&(this.tokenValid=e.tokenValid,this.tokenActive=e.tokenActive,this.userExists=e.userExists)},e=>{this.toastService.errorSwal(e.error,"5000")})}),this.passresetForm=this.formBuilder.group({password:["",[a.kI.required]],cpassword:["",[a.kI.required]]})}bindValidations(o){var t=o.target,e=document.getElementById("pass-lower"),r=document.getElementById("pass-upper"),d=document.getElementById("pass-number"),m=document.getElementById("pass-length"),v=document.getElementById("special-character");t.value.match(/[a-z]/g)?(e?.classList.remove("invalid"),e?.classList.add("valid")):(e?.classList.remove("valid"),e?.classList.add("invalid")),t.value.match(/[A-Z]/g)?(r?.classList.remove("invalid"),r?.classList.add("valid")):(r?.classList.remove("valid"),r?.classList.add("invalid")),t.value.match(/[0-9]/g)?(d?.classList.remove("invalid"),d?.classList.add("valid")):(d?.classList.remove("valid"),d?.classList.add("invalid")),t.value.length>=8?(m?.classList.remove("invalid"),m?.classList.add("valid")):(m?.classList.remove("valid"),m?.classList.add("invalid")),t.value.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/)?(v?.classList.remove("invalid"),v?.classList.add("valid")):(v?.classList.remove("valid"),v?.classList.add("invalid"))}blurValidation(o){document.getElementById("password-contain").style.display="none"}focusValidation(o){document.getElementById("password-contain").style.display="block"}get f(){return this.passresetForm.controls}onSubmit(){this.submitted=!0,this.passresetForm.controls.cpassword.setErrors(null),this.passresetForm.value.password==this.passresetForm.value.cpassword?this.passresetForm.invalid||(this.beforeSend=!0,this.success=!1,this.Api.changePassword({password:this.passresetForm.value.password,password_confirmation:this.passresetForm.value.cpassword},this.userId).subscribe(t=>{this.beforeSend=!1,this.success=!0,this.toastService.successSwal(t.success,"5000")},t=>{this.beforeSend=!1,this.toastService.errorSwal(t,"5000")})):this.passresetForm.controls.cpassword.setErrors({confirmPass:!0})}togglepasswordField(){this.passwordField=!this.passwordField}toggleconfirmField(){this.confirmField=!this.confirmField}static#s=this.\u0275fac=function(t){return new(t||c)(s.Y36(a.QS),s.Y36(h.s),s.Y36(l.gz),s.Y36(_.k))};static#t=this.\u0275cmp=s.Xpm({type:c,selectors:[["app-basic"]],decls:26,vars:6,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-5","mb-4","text-white-50"],["routerLink","/",1,"d-inline-block","auth-logo"],["src","assets/images/logo-light.png","alt","Qforms",1,"customLogo"],["class","row justify-content-center",4,"ngIf"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup"],["autocomplete","false","placeholder","Enter password","id","password-input","aria-describedby","passwordInput","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}","required","","formControlName","password",1,"form-control","pe-5","password-input",3,"type","ngClass","keyup","blur","focus"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"ri-eye-fill","align-middle",3,"ngClass","click"],["class","invalid-feedback",4,"ngIf"],["id","passwordInput",1,"form-text"],["for","confirm-password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Confirm password","id","confirm-password-input","required","","formControlName","cpassword",1,"form-control","pe-5","password-input",3,"type","ngClass"],["type","button","id","confirm-password-input",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],["id","password-contain",1,"p-3","bg-light","mb-2","rounded"],[1,"fs-13"],["id","pass-length",1,"invalid","fs-12","mb-2"],["id","pass-lower",1,"invalid","fs-12","mb-2"],["id","pass-upper",1,"invalid","fs-12","mb-2"],["id","pass-number",1,"invalid","fs-12","mb-2"],["id","special-character",1,"invalid","fs-12","mb-0"],[1,"form-check"],["type","checkbox","value","","id","auth-remember-check",1,"form-check-input"],["for","auth-remember-check",1,"form-check-label"],[1,"mt-4"],["type","submit",1,"btn","btn-success","w-100"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-8","col-lg-6","col-xl-5","my-7"],["role","alert",1,"alert","alert-borderless","alert-warning","text-center","mb-2","mx-2"],["href","#","routerLink","/auth/pass-reset","routerLinkActive","Active"],[1,"col-md-8","col-lg-6","col-xl-5","my-2"],["src","assets/lottie/updating.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","250px","height","250px"],[1,"mt-4","text-center"],[1,"mb-0"],["routerLink","/auth/login",1,"fw-semibold","text-primary","text-decoration-underline"],["src","assets/lottie/success.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","250px","height","250px"],["routerLink","/auth/login"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"div",2),s.TgZ(3,"div",3),s.O4$(),s.TgZ(4,"svg",4),s._UZ(5,"path",5),s.qZA()()(),s.kcU(),s.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),s._UZ(13,"img",12),s.qZA()()()()(),s.YNc(14,B,61,20,"div",13),s.YNc(15,I,11,0,"div",13),s.YNc(16,S,11,0,"div",13),s.YNc(17,F,11,0,"div",13),s.YNc(18,J,10,0,"div",13),s.qZA()(),s.TgZ(19,"footer",14)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",15)(24,"p",16),s._uU(25),s.qZA()()()()()()()),2&t&&(s.xp6(14),s.Q6J("ngIf",!e.beforeSend&&!e.success&&e.tokenValid&&e.tokenActive),s.xp6(1),s.Q6J("ngIf",!e.beforeSend&&!e.success&&e.userExists&&!e.tokenActive),s.xp6(1),s.Q6J("ngIf",!e.beforeSend&&!e.success&&e.userExists&&e.tokenActive&&!e.tokenValid),s.xp6(1),s.Q6J("ngIf",e.beforeSend),s.xp6(1),s.Q6J("ngIf",e.success),s.xp6(7),s.hij(" \xa9 ",e.year," All rights reserved. "))},dependencies:[f.mk,f.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.c5,a.sg,a.u,l.rH,l.Od]})}const Q=[{path:"",component:c}];class p{static#s=this.\u0275fac=function(t){return new(t||p)};static#t=this.\u0275mod=s.oAB({type:p});static#e=this.\u0275inj=s.cJS({imports:[l.Bz.forChild(Q),l.Bz]})}class u{constructor(){(0,x.N)(A().loadAnimation)}static#s=this.\u0275fac=function(t){return new(t||u)};static#t=this.\u0275mod=s.oAB({type:u});static#e=this.\u0275inj=s.cJS({providers:[h.s,_.k],imports:[f.ez,b.mH,a.UX,a.u5,p]})}}}]);